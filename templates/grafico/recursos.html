{% extends "grafico/index.html" %}


{% block title%} Graficos {% endblock%}


{% block content%}

    <div class="bg-primary" class="section">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 text-center" style="padding:60px;">
                      <h1 class="header-h">PoliMba'e</h1>
                      <p class="header-p">Sistema Gerenciador de Recursos</p>
                    </div>
                    <div class="col-md-8" style="padding-bottom:80px;">
                        <div class="item active ">
                          <div class="col-md-4 col-sm-4 left-images">
                         </div>
                         <div class="col-md-6 col-sm-6 details-text">
                          <rnsediv class="content-holder">
                              <div class="content-holder">
                                  <a class="btn btn-primary" href="{% url 'grafico:recurso'  %}">Recursos</a>
                                  <a class="btn btn-primary" href="{% url 'grafico:mantenimientos'  %}">Mantenimientos</a>
                                  <a class="btn btn-primary" href="{% url 'grafico:reserva'  %}">Reservas</a>
                              </div>

                          </rnsediv>
                         </div>
                        </div>
                    </div>
                </div>
            </div>

    <script src="/static/js/Chart.js"></script>
    <canvas id="myChart" width="1100" height="250"></canvas>
        <script>
        var names = JSON.parse('{{ names|safe }}');
        var cont= JSON.parse('{{ cont|safe }}');
        var barData = {
                labels: names,
                datasets: [{
                    label: 'Recuresos disponibles',
                    data:  cont ,
                    fillColor : "rgba(215,153,30,1)",
				    strokeColor : "rgba(151,187,205,1)",
				    highlightFill : "rgba(151,187,205,1)",
				    highlightStroke : "rgba(151,187,205,1)",

                    borderWidth: 1,
                    }],
        }

        window.onload=function () {
            var ctx = document.getElementById("myChart").getContext("2d");
            window.myBar= new Chart(ctx).Bar(barData,{resposive:true
            });
            myBar.datasets[0].bars[0].fillColor = "green"; //bar 1
    myBar.datasets[0].bars[1].fillColor = "orange"; //bar 2
    myBar.datasets[0].bars[2].fillColor = "red"; //bar 3
    myBar.update();
        }
        </script>

    <div class="bg-primary" class="section">
        <div class="container">
            <div class="row">
                    <div class="col-md-8" style="padding-bottom:80px;">
                        <div class="item active ">
                          <div class="col-md-4 col-sm-4 left-images">
                         </div>
                         <div class="col-md-6 col-sm-6 details-text">
                          <rnsediv class="content-holder">
                              <div class="content-holder">

                              </div>
                          </rnsediv>
                         </div>
                        </div>
                    </div>
                </div>
            </div>
</div>
    </div>
{% endblock %}

